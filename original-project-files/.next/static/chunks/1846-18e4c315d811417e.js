"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1846],{9892:function(e,t,r){r.d(t,{K:function(){return n},S:function(){return l}}),r(4590);var a=r(8064),n=(0,a.$)("b8c4f08d63e8512f098e625e94c8c222dd4662e6"),l=(0,a.$)("b1acd12105a1d69a313dbd80256ba3c25b43e299")},5643:function(e,t,r){r.d(t,{default:function(){return o}});var a=r(7437),n=r(7346),l=r(5211);function o(e){let{assetAllocations:t}=e;return(0,a.jsx)(n.by,{data:{labels:t.map(e=>e.type),datasets:[{data:t.map(e=>e.target_allocation),backgroundColor:t.map(()=>"hsl(".concat(Math.floor(360*Math.random()),", 50%, 50%)")),hoverOffset:4}]},options:{plugins:{tooltip:{callbacks:{label:function(e){return(e.dataset.label||"")+(e.parsed+"%")}}}}}})}l.kL.register(l.u,l.De,l.qi)},4782:function(e,t,r){r.d(t,{assetAllocationColumns:function(){return s},assetAllocationColumnsWithDelete:function(){return i}});var a=r(7437),n=r(519),l=r(9892),o=r(9354);let s=[{accessorKey:"type",header:"Type"},{accessorKey:"band",header:"Band"},{accessorKey:"target_allocation",header:"Target Allocation",cell:e=>{let{row:t}=e,r=t.original.target_allocation;return(0,a.jsxs)("div",{children:[r,"%"]})}},{accessorKey:"target_net_return",header:"Target Net Return",cell:e=>{let{row:t}=e,r=t.original.target_net_return;return(0,a.jsxs)("div",{children:[r,"%"]})}},{accessorKey:"sharpe_ratio_target",header:"Sharpe Ratio Target",cell:e=>{let{row:t}=e,r=t.original.sharpe_ratio_target;return(0,a.jsx)("div",{children:o.e.format(r)})}}],i=[...s,{id:"actions",header:"Actions",cell:e=>{let{row:t}=e;return(0,a.jsx)("div",{children:(0,a.jsx)(n.Z,{handleDeleteRow:async()=>{await (0,l.K)(t.original.id)}})})}}]},698:function(e,t,r){r.d(t,{DataTable:function(){return i}});var a=r(7437),n=r(3514),l=r(4175),o=r(7304),s=r(2265);function i(e){var t;let{columns:r,data:i}=e,[d,c]=(0,s.useState)([]),[u,f]=(0,s.useState)([]),[m,g]=(0,s.useState)({}),x=(0,n.b7)({data:i,columns:r,state:{sorting:d,columnFilters:u,columnVisibility:m},onColumnFiltersChange:f,getFilteredRowModel:(0,l.vL)(),getCoreRowModel:(0,l.sC)(),onSortingChange:c,getSortedRowModel:(0,l.tj)(),getPaginationRowModel:(0,l.G_)(),onColumnVisibilityChange:g});return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(o.iA,{children:[(0,a.jsx)(o.xD,{children:x.getHeaderGroups().map(e=>(0,a.jsx)(o.SC,{children:e.headers.map(e=>(0,a.jsx)(o.ss,{children:e.isPlaceholder?null:(0,n.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,a.jsx)(o.RM,{children:(null===(t=x.getRowModel().rows)||void 0===t?void 0:t.length)?x.getRowModel().rows.map(e=>(0,a.jsx)(o.SC,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,a.jsx)(o.pj,{children:(0,n.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,a.jsx)(o.SC,{children:(0,a.jsx)(o.pj,{colSpan:r.length,className:"py-6 text-center",children:"No results."})})})]})})})}},519:function(e,t,r){r.d(t,{Z:function(){return o}});var a=r(7437),n=r(9733),l=r(9943);function o(e){let{handleDeleteRow:t}=e;return(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.vW,{asChild:!0,children:(0,a.jsx)(n.z,{variant:"destructive",children:"Delete"})}),(0,a.jsxs)(l._T,{children:[(0,a.jsxs)(l.fY,{children:[(0,a.jsx)(l.f$,{children:"Are you absolutely sure?"}),(0,a.jsx)(l.yT,{children:"This action cannot be undone. This will permanently delete this and remove it from our servers."})]}),(0,a.jsxs)(l.xo,{children:[(0,a.jsx)(l.le,{children:"Cancel"}),(0,a.jsx)(l.OL,{className:"bg-destructive hover:bg-destructive/80",onClick:t,children:"Continue"})]})]})]})}},9943:function(e,t,r){r.d(t,{OL:function(){return p},_T:function(){return f},aR:function(){return i},f$:function(){return x},fY:function(){return m},le:function(){return b},vW:function(){return d},xo:function(){return g},yT:function(){return h}});var a=r(7437),n=r(2265),l=r(6669),o=r(9354),s=r(9733);let i=l.fC,d=l.xz,c=l.h_,u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(l.aV,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...n,ref:t})});u.displayName=l.aV.displayName;let f=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsx)(l.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...n})]})});f.displayName=l.VY.displayName;let m=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...r})};m.displayName="AlertDialogHeader";let g=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};g.displayName="AlertDialogFooter";let x=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(l.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold",r),...n})});x.displayName=l.Dx.displayName;let h=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(l.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",r),...n})});h.displayName=l.dk.displayName;let p=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(l.aU,{ref:t,className:(0,o.cn)((0,s.d)(),r),...n})});p.displayName=l.aU.displayName;let b=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(l.$j,{ref:t,className:(0,o.cn)((0,s.d)({variant:"outline"}),"mt-2 sm:mt-0",r),...n})});b.displayName=l.$j.displayName},9733:function(e,t,r){r.d(t,{d:function(){return i},z:function(){return d}});var a=r(7437),n=r(2265),l=r(1538),o=r(2218),s=r(9354);let i=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",chatbot:"bg-green-500 text-white hover:bg-green-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:o,asChild:d=!1,...c}=e,u=d?l.g7:"button";return(0,a.jsx)(u,{className:(0,s.cn)(i({variant:n,size:o,className:r})),ref:t,...c})});d.displayName="Button"},7304:function(e,t,r){r.d(t,{RM:function(){return i},SC:function(){return d},iA:function(){return o},pj:function(){return u},ss:function(){return c},xD:function(){return s}});var a=r(7437),n=r(2265),l=r(9354);let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",r),...n})})});o.displayName="Table";let s=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",r),...n})});s.displayName="TableHeader";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",r),...n})});i.displayName="TableBody",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...n})}).displayName="TableFooter";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...n})});d.displayName="TableRow";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...n})});c.displayName="TableHead";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...n})});u.displayName="TableCell",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",r),...n})}).displayName="TableCaption"},2157:function(e,t,r){r.d(t,{e:function(){return l}});var a=r(959),n=r(357);function l(){return(0,a.AY)(n.env.NEXT_PUBLIC_SUPABASE_URL,n.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}},9354:function(e,t,r){r.d(t,{Y:function(){return i},cn:function(){return o},e:function(){return s}});var a=r(4839),n=r(6164),l=r(2157);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}let s=Intl.NumberFormat("en-CA",{currency:"CAD",currencyDisplay:"symbol",currencySign:"standard",style:"currency",minimumFractionDigits:2,maximumFractionDigits:2});async function i(){let e=(0,l.e)(),{data:{user:t}}=await e.auth.getUser();if(t){let{data:r,error:a}=await e.from("profiles").select("role").eq("user_id",t.id).single();return a?(console.error("Error fetching user profile:",a.message),{role:null}):{role:r.role}}return{role:null}}}}]);