(()=>{var e={};e.id=929,e.ids=[929],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},40339:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>f,tree:()=>c}),s(34356),s(72140),s(63014),s(35866);var r=s(23191),a=s(88716),n=s(37922),o=s.n(n),i=s(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let c=["",{children:["chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,34356)),"/workspaces/ai-financial-advisor-rag-model/src/app/chat/page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,72140)),"/workspaces/ai-financial-advisor-rag-model/src/app/chat/loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,63014)),"/workspaces/ai-financial-advisor-rag-model/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/workspaces/ai-financial-advisor-rag-model/src/app/chat/page.tsx"],d="/chat/page",p={require:s,loadChunk:()=>Promise.resolve()},f=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/chat/page",pathname:"/chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},95489:(e,t,s)=>{let r={"0b6bf90b9408a21c200d28a49843e2c5efd87935":()=>Promise.resolve().then(s.bind(s,71431)).then(e=>e.signout),"4d94b986c1052072c9bc9e9a38a65d888a724f62":()=>Promise.resolve().then(s.bind(s,71431)).then(e=>e.signup),"6be7721c22de52dd9e3b3166e6e0ff0958ab4f15":()=>Promise.resolve().then(s.bind(s,71431)).then(e=>e.login)};async function a(e,...t){return(await r[e]()).apply(null,t)}e.exports={"0b6bf90b9408a21c200d28a49843e2c5efd87935":a.bind(null,"0b6bf90b9408a21c200d28a49843e2c5efd87935"),"4d94b986c1052072c9bc9e9a38a65d888a724f62":a.bind(null,"4d94b986c1052072c9bc9e9a38a65d888a724f62"),"6be7721c22de52dd9e3b3166e6e0ff0958ab4f15":a.bind(null,"6be7721c22de52dd9e3b3166e6e0ff0958ab4f15")}},57370:(e,t,s)=>{Promise.resolve().then(s.bind(s,84517))},35303:()=>{},906:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},84517:(e,t,s)=>{"use strict";let r;s.r(t),s.d(t,{default:()=>X});var a=s(10326),n=s(17577);let o=(0,n.createContext)({userInput:"",setUserInput:()=>{},chatMessages:[],setChatMessages:()=>{},chatFileItems:[],setChatFileItems:()=>{},isGenerating:!1,setIsGenerating:()=>{},chatFiles:[],setChatFiles:()=>{},chatImages:[],setChatImages:()=>{},newMessageFiles:[],setNewMessageFiles:()=>{},newMessageImages:[],setNewMessageImages:()=>{},showFilesDisplay:!1,setShowFilesDisplay:()=>{}}),i=({children:e})=>{let[t,s]=(0,n.useState)(""),[r,i]=(0,n.useState)([]),[l,c]=(0,n.useState)([]),[u,d]=(0,n.useState)(!1),[p,f]=(0,n.useState)([]),[g,h]=(0,n.useState)([]),[m,x]=(0,n.useState)([]),[b,y]=(0,n.useState)([]),[v,w]=(0,n.useState)(!1);return a.jsx(o.Provider,{value:{userInput:t,setUserInput:s,chatMessages:r,setChatMessages:i,chatFileItems:l,setChatFileItems:c,isGenerating:u,setIsGenerating:d,chatFiles:p,setChatFiles:f,chatImages:g,setChatImages:h,newMessageFiles:m,setNewMessageFiles:x,newMessageImages:b,setNewMessageImages:y,showFilesDisplay:v,setShowFilesDisplay:w},children:e})},l=()=>(0,n.useContext)(o);var c=s(6113),u=s.n(c);let d={randomUUID:u().randomUUID},p=new Uint8Array(256),f=p.length,g=[];for(let e=0;e<256;++e)g.push((e+256).toString(16).slice(1));let h=function(e,t,s){if(d.randomUUID&&!t&&!e)return d.randomUUID();let r=(e=e||{}).random||(e.rng||function(){return f>p.length-16&&(u().randomFillSync(p),f=0),p.slice(f,f+=16)})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){s=s||0;for(let e=0;e<16;++e)t[s+e]=r[e];return t}return function(e,t=0){return g[e[t+0]]+g[e[t+1]]+g[e[t+2]]+g[e[t+3]]+"-"+g[e[t+4]]+g[e[t+5]]+"-"+g[e[t+6]]+g[e[t+7]]+"-"+g[e[t+8]]+g[e[t+9]]+"-"+g[e[t+10]]+g[e[t+11]]+g[e[t+12]]+g[e[t+13]]+g[e[t+14]]+g[e[t+15]]}(r)},m=["Enter up to three questions that guide your family’s decision making.","What are your family values?","What is a statement or commitment that your family lives by?","What statement defines your family's vision?","What is your family's impact statement?"],x=()=>{let{chatMessages:e,setChatMessages:t}=(0,n.useContext)(o),[s,r]=(0,n.useState)(0),[a,i]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),u=(0,n.useCallback)((e,t)=>({id:h(),type:t,message:e}),[]),d=(0,n.useCallback)(e=>{t(t=>[...t,e])},[t]),p=(0,n.useCallback)(()=>{s<m.length?(d(u(m[s],"bot")),r(e=>e+1)):(d(u("You may type exit to finish creating your charter.","bot")),c(!0))},[d,u,s]),f=(0,n.useCallback)(async()=>{let t=e.filter(e=>"user"===e.type).map(e=>e.message);try{let e=await fetch("http://localhost:8000/api/chat/submit_responses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({responses:t}),credentials:"include"});if(!e.ok)throw Error(`HTTP error ${e.status}`);let s=await e.json();console.log("Responses submitted successfully:",s)}catch(e){console.error("Failed to submit responses:",e)}},[e]),g=(0,n.useCallback)(async e=>{try{let t=await fetch("http://localhost:8000/api/chat/send_message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e}),credentials:"include"});if(!t.ok)throw Error(`HTTP error ${t.status}`);let{answer:s}=await t.json();return s}catch(e){return console.error("Error during fetch or parsing:",e),"Sorry, there was an error processing your message."}},[]);return{chatMessages:e,handleSendMessage:(0,n.useCallback)(async e=>{i(!0);let a=e.trim().toLowerCase();try{if(d(u(e,"user")),"start"===a&&0===s)p();else if("exit"===a&&l)await f(),t([]),r(0),c(!1),d(u("Thank you, I have recorded your responses. Goodbye!","bot"));else if(s>0&&s<=m.length)p();else if(l||0===s){let t=await g(e);d(u(t,"bot"))}else d(u("Please type 'start' to begin the questionnaire, or ask anything else.","bot"))}finally{i(!1)}},[d,p,u,s,t,f,g,l]),handleNewChat:(0,n.useCallback)(()=>{t([]),r(0),c(!1)},[t]),isGenerating:a}},b=()=>{let{isGenerating:e,chatMessages:t}=(0,n.useContext)(o),s=(0,n.useRef)(null),r=(0,n.useRef)(null),a=(0,n.useRef)(!1),[i,l]=(0,n.useState)(!1),[c,u]=(0,n.useState)(!0),[d,p]=(0,n.useState)(!1),[f,g]=(0,n.useState)(!1);(0,n.useEffect)(()=>{p(!1),!e&&d&&p(!1)},[e,d]);let h=(0,n.useCallback)(e=>{let t=e.target,s=Math.round(t.scrollHeight)-Math.round(t.scrollTop)===Math.round(t.clientHeight);u(s),l(0===t.scrollTop),s||a.current?p(!1):p(!0),g(t.scrollHeight>t.clientHeight)},[]),m=(0,n.useCallback)(()=>{s.current&&s.current.scrollIntoView({behavior:"instant"})},[]),x=(0,n.useCallback)(()=>{a.current=!0,setTimeout(()=>{r.current&&r.current.scrollIntoView({behavior:"instant"}),a.current=!1},100)},[]);return(0,n.useEffect)(()=>{e&&!d&&x()},[t,e,d,x]),{messagesStartRef:s,messagesEndRef:r,isAtTop:i,isAtBottom:c,userScrolled:d,isOverflowing:f,handleScroll:h,scrollToTop:m,scrollToBottom:x,setIsAtBottom:u}};var y=s(906);Object.create(null);let v={};function w(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];"string"==typeof t[0]&&v[t[0]]||("string"==typeof t[0]&&(v[t[0]]=new Date),function(){if(console&&console.warn){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];"string"==typeof t[0]&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}(...t))}let k=(e,t)=>()=>{if(e.isInitialized)t();else{let s=()=>{setTimeout(()=>{e.off("initialized",s)},0),t()};e.on("initialized",s)}};function C(e,t,s){e.loadNamespaces(t,k(e,s))}function j(e,t,s,r){"string"==typeof s&&(s=[s]),s.forEach(t=>{0>e.options.ns.indexOf(t)&&e.options.ns.push(t)}),e.loadLanguages(t,k(e,r))}let N=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,S={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},I=e=>S[e],P={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(N,I)},E=(0,n.createContext)();class q{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}let M=(e,t)=>{let s=(0,n.useRef)();return(0,n.useEffect)(()=>{s.current=t?s.current:e},[e,t]),s.current};function R(e,t,s,r){return e.getFixedT(t,s,r)}var T=s(45353),z=function(e,t){if("function"==typeof e){e(t);return}e.current=t};let F=function(e,t){var s=(0,n.useRef)();return(0,n.useCallback)(function(r){e.current=r,s.current&&z(s.current,null),s.current=t,t&&z(t,r)},[t])};var _=function(){},U=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],A=n.forwardRef(function(e,t){e.cacheMeasurements,e.maxRows,e.minRows;var s=e.onChange;e.onHeightChange;var r=function(e,t){if(null==e)return{};var s={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;s[r]=e[r]}return s}(e,U);r.value;var a=F(n.useRef(null),t);return n.useRef(0),n.useRef(),n.createElement("textarea",(0,T.Z)({},r,{onChange:void 0===s?_:s,ref:a}))}),L={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */let O=(e,t,s,r)=>{let a=(0,n.forwardRef)(({color:s="currentColor",size:a=24,stroke:o=2,className:i,children:l,...c},u)=>(0,n.createElement)("svg",{ref:u,...L[e],width:a,height:a,className:["tabler-icon",`tabler-icon-${t}`,i].join(" "),..."filled"===e?{fill:s}:{strokeWidth:o,stroke:s},...c},[...r.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(l)?l:[l]]));return a.displayName=`${s}`,a};/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $=O("outline","circle-plus","IconCirclePlus",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M9 12h6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]]),D=O("filled","player-stop-filled","IconPlayerStopFilled",[["path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",key:"svg-0"}]]),B=O("outline","send","IconSend",[["path",{d:"M10 14l11 -11",key:"svg-0"}],["path",{d:"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5",key:"svg-1"}]]);let H=()=>{let{t:e}=function(e){var t,s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{i18n:o}=a,{i18n:i,defaultNS:l}=(0,n.useContext)(E)||{},c=o||i||r;if(c&&!c.reportNamespaces&&(c.reportNamespaces=new q),!c){w("You will need to pass in an i18next instance by using initReactI18next");let e=(e,t)=>"string"==typeof t?t:t&&"object"==typeof t&&"string"==typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}c.options.react&&void 0!==c.options.react.wait&&w("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");let u={...P,...c.options.react,...a},{useSuspense:d,keyPrefix:p}=u,f=e||l||c.options&&c.options.defaultNS;f="string"==typeof f?[f]:f||["translation"],c.reportNamespaces.addUsedNamespaces&&c.reportNamespaces.addUsedNamespaces(f);let g=(c.isInitialized||c.initializedStoreOnce)&&f.every(e=>(function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{lng:s.lng,precheck:(t,r)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],a=!!t.options&&t.options.fallbackLng,n=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;let o=(e,s)=>{let r=t.services.backendConnector.state[`${e}|${s}`];return -1===r||2===r};return(!(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1)||!t.services.backendConnector.backend||!t.isLanguageChangingTo||!!o(t.isLanguageChangingTo,e))&&!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||o(r,e)&&(!a||o(n,e)))}(e,t,s):(w("i18n.languages were undefined or empty",t.languages),!0)})(e,c,u)),h=(t=a.lng||null,s="fallback"===u.nsMode?f:f[0],(0,n.useCallback)(R(c,t,s,p),[c,t,s,p])),m=()=>h,x=()=>R(c,a.lng||null,"fallback"===u.nsMode?f:f[0],p),[b,y]=(0,n.useState)(m),v=f.join();a.lng&&(v=`${a.lng}${v}`);let k=M(v),N=(0,n.useRef)(!0);(0,n.useEffect)(()=>{let{bindI18n:e,bindI18nStore:t}=u;function s(){N.current&&y(x)}return N.current=!0,g||d||(a.lng?j(c,a.lng,f,()=>{N.current&&y(x)}):C(c,f,()=>{N.current&&y(x)})),g&&k&&k!==v&&N.current&&y(x),e&&c&&c.on(e,s),t&&c&&c.store.on(t,s),()=>{N.current=!1,e&&c&&e.split(" ").forEach(e=>c.off(e,s)),t&&c&&t.split(" ").forEach(e=>c.store.off(e,s))}},[c,v]),(0,n.useEffect)(()=>{N.current&&g&&y(m)},[c,p,g]);let S=[b,c,g];if(S.t=b,S.i18n=c,S.ready=g,g||!g&&!d)return S;throw new Promise(e=>{a.lng?j(c,a.lng,f,()=>e()):C(c,f,()=>e())})}(),{handleSendMessage:t,isGenerating:s}=x(),[o,i]=(0,n.useState)(""),l=(0,n.useRef)(null);return(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"flex flex-col flex-wrap justify-center gap-2"}),(0,a.jsxs)("div",{className:"border-input relative mt-3 flex min-h-[60px] w-full items-center justify-center rounded-xl border-2",children:[a.jsx($,{className:"absolute bottom-[12px] left-3 cursor-pointer p-1 hover:opacity-50",size:32,onClick:()=>l.current?.click()}),a.jsx("input",{ref:l,className:"hidden",type:"file",onChange:e=>{console.log(e.target.files)}}),a.jsx(A,{className:"ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring text-md flex w-full resize-none rounded-md border-none bg-transparent px-14 py-2 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",placeholder:e("Type start to begin creating your family charter..."),onChange:e=>{i(e.target.value)},value:o,minRows:1,maxRows:5,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||""===o.trim()||(e.preventDefault(),t(o),i(""))}}),a.jsx("div",{className:"absolute bottom-[14px] right-3 cursor-pointer hover:opacity-50",children:s?a.jsx(D,{className:"hover:bg-background animate-pulse rounded bg-transparent p-1",size:30}):a.jsx(B,{className:`bg-primary text-secondary rounded p-1 ${!o&&"cursor-not-allowed opacity-50"}`,onClick:()=>{o&&(t(o),i(""))},size:30})})]})]})};s(99518);let G=()=>{let{chatMessages:e}=l(),t=(0,n.useRef)(null);return(0,n.useEffect)(()=>{t.current?.scrollIntoView({behavior:"smooth"}),console.log("Updated messages:",e)},[e]),a.jsx("div",{className:"chat-container",children:e.map((e,t)=>a.jsx("div",{className:`message ${"bot"===e.type?"bot-message":"user-message"}`,children:a.jsx("div",{className:`${e.type}-text`,children:e.message})},e.id||t))})};/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var W=O("filled","circle-arrow-up-filled","IconCircleArrowUpFilled",[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-4.98 3.66l-.163 .01l-.086 .016l-.142 .045l-.113 .054l-.07 .043l-.095 .071l-.058 .054l-4 4l-.083 .094a1 1 0 0 0 1.497 1.32l2.293 -2.293v5.586l.007 .117a1 1 0 0 0 1.993 -.117v-5.585l2.293 2.292l.094 .083a1 1 0 0 0 1.32 -1.497l-4 -4l-.082 -.073l-.089 -.064l-.113 -.062l-.081 -.034l-.113 -.034l-.112 -.02l-.098 -.006z",key:"svg-0"}]]),V=O("filled","circle-arrow-down-filled","IconCircleArrowDownFilled",[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-5 3.66a1 1 0 0 0 -1 1v5.585l-2.293 -2.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l4 4c.028 .028 .057 .054 .094 .083l.092 .064l.098 .052l.081 .034l.113 .034l.112 .02l.117 .006l.115 -.007l.114 -.02l.142 -.044l.113 -.054l.111 -.071a.939 .939 0 0 0 .112 -.097l4 -4l.083 -.094a1 1 0 0 0 -1.497 -1.32l-2.293 2.291v-5.584l-.007 -.117a1 1 0 0 0 -.993 -.883z",key:"svg-0"}]]);let K=({isAtTop:e,isAtBottom:t,isOverflowing:s,scrollToTop:r,scrollToBottom:n})=>(0,a.jsxs)(a.Fragment,{children:[!e&&s&&a.jsx(W,{className:"cursor-pointer opacity-50 hover:opacity-100",size:32,onClick:r}),!t&&s&&a.jsx(V,{className:"cursor-pointer opacity-50 hover:opacity-100",size:32,onClick:n})]}),J=()=>{let{handleNewChat:e}=x();console.log("ChatUI Component Rendering");let{messagesStartRef:t,messagesEndRef:s,handleScroll:r,scrollToBottom:o,isAtTop:i,isAtBottom:c,isOverflowing:u,scrollToTop:d}=b();(0,n.useEffect)(()=>{console.log("ChatUI mounted, initializing chat session..."),e()},[e]);let{chatMessages:p}=l();return(0,n.useEffect)(()=>{console.log("Chat messages in consumer updated:",p)},[p]),(0,a.jsxs)("div",{className:"relative flex h-full flex-col items-center",children:[a.jsx("div",{className:"absolute left-4 top-2.5 flex justify-center",children:a.jsx(K,{isAtTop:i,isAtBottom:c,isOverflowing:u,scrollToTop:d,scrollToBottom:o})}),a.jsx("div",{className:"absolute right-4 top-1 flex h-[40px] items-center space-x-2"}),a.jsx("div",{className:"bg-secondary flex max-h-[50px] min-h-[50px] w-full items-center justify-left border-b-2 font-bold p-6",children:a.jsx("div",{className:"max-w-[200px] truncate sm:max-w-[400px] md:max-w-[500px] lg:max-w-[600px] xl:max-w-[700px] text-3xl",children:"Videre Chatbot"})}),(0,a.jsxs)("div",{className:"flex size-full flex-col overflow-auto border-b",onScroll:r,children:[a.jsx("div",{ref:t}),a.jsx(G,{}),a.jsx("div",{ref:s})]}),a.jsx("div",{className:"relative w-full min-w-[300px] items-end px-2 pb-3 pt-0 sm:w-[600px] sm:pb-8 sm:pt-5 md:w-[700px] lg:w-[700px] xl:w-[800px]",children:a.jsx(H,{})}),a.jsx("div",{className:"absolute bottom-2 right-2 hidden md:block lg:bottom-4 lg:right-4"})]})},Y=(e,t)=>{(0,n.useEffect)(()=>{let s=s=>{s.metaKey&&s.shiftKey&&s.key===e&&(s.preventDefault(),t())};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[e,t])};function X(){let{chatMessages:e}=(0,n.useContext)(o),{handleNewChat:t}=x(),[s,r]=(0,n.useState)(!1);return Y("o",t),console.log("Rendering ChatPage, Chat Started:",s),a.jsx(i,{children:a.jsx(J,{})})}},72140:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(19510),a=s(71159),n={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}},o=((e,t,s,r)=>{let o=(0,a.forwardRef)(({color:s="currentColor",size:o=24,stroke:i=2,className:l,children:c,...u},d)=>(0,a.createElement)("svg",{ref:d,...n[e],width:o,height:o,className:["tabler-icon",`tabler-icon-${t}`,l].join(" "),..."filled"===e?{fill:s}:{strokeWidth:i,stroke:s},...u},[...r.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return o.displayName=`${s}`,o})("outline","loader-2","IconLoader2",[["path",{d:"M12 3a9 9 0 1 0 9 9",key:"svg-0"}]]);function i(){return r.jsx("div",{className:"flex size-full flex-col items-center justify-center",children:r.jsx(o,{className:"mt-4 size-12 animate-spin"})})}},34356:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>i});var r=s(68570);let a=(0,r.createProxy)(String.raw`/workspaces/ai-financial-advisor-rag-model/src/app/chat/page.tsx`),{__esModule:n,$$typeof:o}=a;a.default;let i=(0,r.createProxy)(String.raw`/workspaces/ai-financial-advisor-rag-model/src/app/chat/page.tsx#default`)},73881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(66621);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},99518:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,416,319,621,831],()=>s(40339));module.exports=r})();