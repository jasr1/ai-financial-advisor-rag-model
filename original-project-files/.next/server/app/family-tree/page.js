(()=>{var e={};e.id=931,e.ids=[931],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},71017:e=>{"use strict";e.exports=require("path")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},2167:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>f,tree:()=>c}),r(22220),r(63014),r(35866);var a=r(23191),n=r(88716),s=r(37922),i=r.n(s),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["family-tree",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,22220)),"/workspaces/ai-financial-advisor-rag-model/src/app/family-tree/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,63014)),"/workspaces/ai-financial-advisor-rag-model/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/workspaces/ai-financial-advisor-rag-model/src/app/family-tree/page.tsx"],u="/family-tree/page",p={require:r,loadChunk:()=>Promise.resolve()},f=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/family-tree/page",pathname:"/family-tree",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},95489:(e,t,r)=>{let a={"0b6bf90b9408a21c200d28a49843e2c5efd87935":()=>Promise.resolve().then(r.bind(r,71431)).then(e=>e.signout),"4d94b986c1052072c9bc9e9a38a65d888a724f62":()=>Promise.resolve().then(r.bind(r,71431)).then(e=>e.signup),"6be7721c22de52dd9e3b3166e6e0ff0958ab4f15":()=>Promise.resolve().then(r.bind(r,71431)).then(e=>e.login)};async function n(e,...t){return(await a[e]()).apply(null,t)}e.exports={"0b6bf90b9408a21c200d28a49843e2c5efd87935":n.bind(null,"0b6bf90b9408a21c200d28a49843e2c5efd87935"),"4d94b986c1052072c9bc9e9a38a65d888a724f62":n.bind(null,"4d94b986c1052072c9bc9e9a38a65d888a724f62"),"6be7721c22de52dd9e3b3166e6e0ff0958ab4f15":n.bind(null,"6be7721c22de52dd9e3b3166e6e0ff0958ab4f15")}},2835:(e,t,r)=>{Promise.resolve().then(r.bind(r,44785))},88306:(e,t,r)=>{"use strict";r.d(t,{W:()=>s});var a=r(3539),n=r(85251);let s=(0,a.Ue)()((0,n.tJ)(e=>({imgString:"",saveImgString:t=>e({imgString:t})}),{name:"family-tree-image"}))},44785:(e,t,r)=>{"use strict";r.d(t,{default:()=>y});var a=r(10326),n=r(48582),s=r(20178),i=r(39573);r(41972);var o=r(17546),l=r(17577),c=r(85999);function d(e,t){return{onAdd:(0,l.useCallback)(()=>{t(t=>t.concat(e))},[e,t])}}var u=r(39917),p=r(29497),f=r(43440),m=r(88306);let g=[{id:"0",type:"customNode",data:{name:"",surname:"",dateOfBirth:"",placeOfBirth:"",gender:"Male",genderColor:{Male:"#9ad3f6",Female:"#f6bfba"}},position:{x:0,y:0},style:{borderRadius:"4px"}}],x={customNode:function({id:e,data:t,isConnectable:r}){let{getNode:s,setNodes:i,setEdges:o,toObject:c}=(0,n._K)(),{name:d,surname:m,dateOfBirth:g,placeOfBirth:x,gender:h,genderColor:y}=t,b=(0,u.y1)(t=>{let r=t.target.name,a=t.target.value;i(t=>t.map(t=>(t.id===e&&(t.data={...t.data,[r]:a}),t)));let n=c();localStorage.setItem("family-tree",JSON.stringify(n))},300),v=(0,l.useCallback)(()=>{i(t=>t.map(t=>(t.id===e&&(t.data={...t.data,gender:"Male"===t.data.gender?"Female":"Male"}),t)));let t=c();localStorage.setItem("family-tree",JSON.stringify(t))},[i,e,c]),C=(0,l.useCallback)(({source:e,sourceHandle:t,target:r,targetHandle:a},{x:s,y:l})=>{if(!e||!r)return;let c=crypto.randomUUID(),d={id:c,type:"customJunction",data:{},position:{x:s,y:l}},u={id:crypto.randomUUID(),source:e,target:c,type:"straight",sourceHandle:t},p={id:crypto.randomUUID(),source:c,target:r,type:"straight",targetHandle:a};i(e=>e.concat(d)),o(e=>(0,n.Z_)(u,(0,n.Z_)(p,e)))},[i,o]),j=(0,l.useCallback)((e,t,r,a=0)=>{let{position:{x:n,y:s},width:i}=e,{position:{x:o,y:l}}=t;if(i)return{x:n+i/2+Math.abs(n+i-o)/2,y:"leftHandler"===r?l+a:s+a}},[]);return(0,a.jsxs)("div",{style:{backgroundColor:y[h]},className:"rounded-lg p-5",children:[a.jsx(n.HH,{type:"target",id:"top",position:n.Ly.Top,isConnectable:r}),a.jsx(n.HH,{type:"target",id:"left",position:n.Ly.Left,isConnectable:!0,onConnect:e=>{let{source:t,target:r}=e;if(!t||!r)return;let a=s(t),i=s(r);if(a&&i){if("right"===e.sourceHandle&&"customJunction"!==a.type){let t=j(a,i,"leftHandler",50);if(!t)return;C(e,t)}else if("right"===e.sourceHandle){let t={...e,type:"straight",sourceHandle:"right"};o(e=>(0,n.Z_)(t,e))}}}}),a.jsx("div",{className:"mb-3 flex items-center justify-center",children:a.jsx(p.G,{icon:"Male"===h?f.Aci:f.hTh,className:`fa-lg cursor-pointer ${"Male"===h?"text-[#3daaee] hover:text-[#336889]":"text-[#f26356] hover:text-[#aa483f]"}`,onClick:v})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[a.jsx("input",{className:"min-w-6 text-ellipsis rounded bg-transparent font-semibold placeholder:text-[#eaf7ff] focus:outline-none",name:"name",placeholder:"Name",defaultValue:d,onChange:b}),a.jsx("input",{className:"min-w-6 text-ellipsis rounded bg-transparent font-semibold placeholder:text-[#eaf7ff] focus:outline-none",name:"surname",placeholder:"Surname",defaultValue:m,onChange:b}),a.jsx("input",{className:"min-w-6 bg-transparent text-xs placeholder:text-[#eaf7ff] focus:outline-none",name:"dateOfBirth",placeholder:"Date of Birth",defaultValue:g,onChange:b}),a.jsx("input",{className:"min-w-6 bg-transparent text-xs placeholder:text-[#eaf7ff] focus:outline-none",name:"placeOfBirth",placeholder:"Place of Birth",defaultValue:x,onChange:b})]}),a.jsx(n.HH,{type:"source",id:"right",position:n.Ly.Right,isConnectable:!0,onConnect:e=>{let{source:t,target:r}=e;if(!t||!r)return;let a=s(t),i=s(r);if(a&&i){if("left"===e.targetHandle&&"customJunction"!==i.type){let t=j(a,i,"rightHandler",50);if(!t)return;C(e,t)}else if("left"===e.targetHandle){let t={...e,type:"straight",targetHandle:"left"};o(e=>(0,n.Z_)(t,e))}}}})]})},customJunction:function({isConnectable:e}){let{setEdges:t}=(0,n._K)();return(0,a.jsxs)("div",{className:"rounded-lg border-foreground bg-foreground p-4",children:[a.jsx(n.HH,{type:"target",id:"left",position:n.Ly.Left,isConnectable:e,onConnect:e=>{if("right"===e.sourceHandle){let r={...e,type:"straight",targetHandle:"right"};t(e=>(0,n.Z_)(r,e))}}}),a.jsx(n.HH,{type:"source",id:"right",position:n.Ly.Right,isConnectable:e,onConnect:e=>{if("left"===e.targetHandle){let r={...e,type:"straight",targetHandle:"left"};t(e=>(0,n.Z_)(r,e))}}}),a.jsx(n.HH,{type:"source",id:"bottom",position:n.Ly.Bottom,isConnectable:e})]})}};function h(){let e=(0,l.useRef)(null),[t,r,u]=(0,n.Rr)(g),[p,f,h]=(0,n.ll)([]),{getNode:y,getNodes:b}=(0,n._K)(),{onConnect:v}=function(e,t){let r=(0,l.useRef)(null),{screenToFlowPosition:a}=(0,n._K)();return{onConnect:(0,l.useCallback)(t=>{r.current=null,e(e=>(0,n.Z_)(t,e))},[e]),onConnectStart:(0,l.useCallback)((e,{nodeId:t})=>{r.current=t},[]),onConnectEnd:(0,l.useCallback)(n=>{if(r.current&&n.target&&n instanceof MouseEvent&&n.target instanceof HTMLDivElement&&n.target.classList.contains("react-flow__pane")){let s=crypto.randomUUID(),i={id:s,type:"customNode",position:a({x:n.clientX,y:n.clientY}),data:{name:"",surname:"",dateOfBirth:"",placeOfBirth:"",gender:"Male",genderColor:{Male:"#9ad3f6",Female:"#f6bfba"}},style:{borderRadius:"4px"}};t(e=>e.concat(i)),e(e=>r.current?e.concat({id:s,source:r.current,target:s}):e)}},[t,e,a])}}(f,r),{onSave:C,onRestore:j}=function(e,t){let{setViewport:r,toObject:a}=(0,n._K)();return{onSave:(0,l.useCallback)(()=>{let e=a();localStorage.setItem("family-tree",JSON.stringify(e)),c.A.success("Your flow has been saved.")},[a]),onRestore:(0,l.useCallback)(()=>{(async()=>{let a=localStorage.getItem("family-tree"),n=a?JSON.parse(a):null;if(n){let{x:a=0,y:s=0,zoom:i=1}=n.viewport;e(n.nodes||[]),t(n.edges||[]),r({x:a,y:s,zoom:i})}})()},[e,t,r])}}(r,f),{onAdd:_}=d({id:crypto.randomUUID(),type:"customNode",position:{x:0,y:0},data:{name:"",surname:"",dateOfBirth:"",placeOfBirth:"",gender:"Male",genderColor:{Male:"#9ad3f6",Female:"#f6bfba"}},style:{borderRadius:"4px"}},r),{onAdd:w}=d({id:crypto.randomUUID(),type:"customJunction",data:{},position:{x:0,y:0}},r),q=(0,l.useCallback)((e,t,a=0)=>{let n=e.position.y-a,s={...t,position:{...t.position,y:n}};r(e=>e.map(e=>e.id===s.id?s:e))},[r]),H=(0,l.useCallback)((e,t)=>{if("customJunction"!==t.type)return;let[r,a]=(0,n.my)([t],p).filter(e=>"straight"===e.type).map(e=>e.source===t.id?e.target:e.source),s=y(r),i=y(a);s&&q(t,s,50),i&&q(t,i,50)},[p,y,q]),N=(0,m.W)(e=>e.saveImgString);return a.jsx("div",{className:"h-full grow",ref:e,style:{height:"100%"},children:(0,a.jsxs)(n.x$,{nodes:t,edges:p,onNodesChange:u,onEdgesChange:h,onConnect:v,onNodeDrag:H,nodeTypes:x,fitView:!0,fitViewOptions:{padding:2},defaultEdgeOptions:{type:"smoothstep"},nodeOrigin:[.5,0],children:[(0,a.jsxs)(n.s_,{className:"divide-x rounded border bg-background py-1 shadow-xl",position:"top-right",children:[a.jsx("button",{className:"px-3",onClick:()=>{C(),function(){let e=(0,n.RX)(b()),t=(0,n.$i)(e,1024,768,.1,2),r=document.querySelector(".react-flow__viewport");r&&(0,o.KT)(r,{filter:function(e){return"i"!==e.tagName},style:{transform:`translate(${t.x}px, ${t.y}px scale(${t.zoom}))`}}).then(e=>{N(e)})}()},children:"save"}),a.jsx("button",{className:"px-3",onClick:_,children:"add node"}),a.jsx("button",{className:"px-3",onClick:w,children:"add junction"})]}),a.jsx(s.A,{}),a.jsx(i.Z,{})]})})}function y(){return a.jsx(n.tV,{children:a.jsx(h,{})})}},31649:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(19510),n=r(65655),s=r(58585);async function i({children:e}){let t=(0,n.e)(),{data:r}=await t.auth.getUser();return r?.user||(0,s.redirect)("/login"),a.jsx(a.Fragment,{children:e})}},22220:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(19510),n=r(31649),s=r(68570);let i=(0,s.createProxy)(String.raw`/workspaces/ai-financial-advisor-rag-model/src/app/family-tree/family-tree-wrapper.tsx`),{__esModule:o,$$typeof:l}=i;i.default;let c=(0,s.createProxy)(String.raw`/workspaces/ai-financial-advisor-rag-model/src/app/family-tree/family-tree-wrapper.tsx#default`);function d(){return a.jsx(n.Z,{children:a.jsx(c,{})})}},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(66621);let n=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,416,319,621,944,654,831],()=>r(2167));module.exports=a})();